<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DietPal - Personalized Nutrition Assistant</title>
    <style>
        :root {
            --primary: #2ecc71;
            --secondary: #27ae60;
            --bg: #1a1a1a;
            --text: #ecf0f1;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--bg);
            color: var(--text);
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            backdrop-filter: blur(10px);
        }

        .chat-box {
            height: 60vh;
            overflow-y: auto;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .message {
            margin: 10px 0;
            padding: 10px 15px;
            border-radius: 20px;
            max-width: 70%;
            animation: slideIn 0.3s ease-out;
        }

        .user-message {
            background: var(--primary);
            margin-left: auto;
        }

        .bot-message {
            background: var(--secondary);
            margin-right: auto;
        }

        input, select, button {
            padding: 10px;
            border: none;
            border-radius: 5px;
            margin: 5px;
        }

        button {
            background: var(--primary);
            color: white;
            cursor: pointer;
            transition: transform 0.2s;
        }

        button:hover {
            transform: scale(1.05);
        }

        @keyframes slideIn {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Profile Setup -->
        <div id="profile-setup">
            <h2>Create Your Profile</h2>
            <form id="profile-form">
                <input type="number" id="age" placeholder="Age" required>
                <input type="number" id="weight" placeholder="Weight (kg)" required>
                <input type="number" id="height" placeholder="Height (cm)" required>
                <select id="lifestyle" required>
                    <option value="">Select Lifestyle</option>
                    <option value="hosteler">Hosteler</option>
                    <option value="corporate">Corporate Worker</option>
                    <option value="student">Student</option>
                    <option value="athlete">Athlete</option>
                </select>
                <button type="submit">Start Chat</button>
            </form>
        </div>

        <!-- Chat Interface -->
        <div id="chat-interface" style="display: none;">
            <div class="chat-box" id="chat-messages"></div>
            <div>
                <input type="text" id="user-input" placeholder="Ask about your diet...">
                <button onclick="handleUserInput()">Send</button>
            </div>
        </div>
    </div>

    <script>
        let userProfile = {};

        document.getElementById('profile-form').addEventListener('submit', (e) => {
            e.preventDefault();
            userProfile = {
                age: document.getElementById('age').value,
                weight: document.getElementById('weight').value,
                height: document.getElementById('height').value,
                lifestyle: document.getElementById('lifestyle').value
            };
            
            document.getElementById('profile-setup').style.display = 'none';
            document.getElementById('chat-interface').style.display = 'block';
            addBotMessage(`Welcome! Based on your profile (${userProfile.lifestyle}), how can I help you today?`);
        });

        function handleUserInput() {
            const input = document.getElementById('user-input').value;
            if (!input) return;

            addUserMessage(input);
            generateResponse(input);
            document.getElementById('user-input').value = '';
        }

        function addUserMessage(text) {
            const div = document.createElement('div');
            div.className = 'message user-message';
            div.textContent = text;
            document.getElementById('chat-messages').appendChild(div);
        }

        function addBotMessage(text) {
            const div = document.createElement('div');
            div.className = 'message bot-message';
            div.textContent = text;
            document.getElementById('chat-messages').appendChild(div);
            div.scrollIntoView();
        }

        function generateResponse(userInput) {
            let response = '';
            const lifestyle = userProfile.lifestyle;
            
            if (userInput.toLowerCase().includes('suggest')) {
                response = getDietSuggestion(lifestyle);
            } else if (userInput.toLowerCase().includes('diet plan')) {
                response = getDailyPlan(lifestyle);
            } else {
                response = "I can help you with:\n- Daily diet plans\n- Healthy snack ideas\n- Budget meals\n- Quick recipes\nWhat would you like to know?";
            }

            setTimeout(() => addBotMessage(response), 1000);
        }

        function getDietSuggestion(lifestyle) {
            const suggestions = {
                hosteler: `Budget-friendly options:\n1. Poha with peanuts\n2. Dal khichdi\n3. Sprouts salad\n4. Curd rice with veggies`,
                corporate: `Quick office meals:\n1. Quinoa salad jars\n2. Whole wheat wraps\n3. Protein-rich snacks\n4. Herbal teas for stress`,
                student: `Study-friendly snacks:\n1. Oatmeal energy balls\n2. Peanut butter sandwiches\n3. Fruit smoothies\n4. Dark chocolate (70%+)`,
                athlete: `Performance nutrition:\n1. Grilled chicken with sweet potato\n2. Protein shakes\n3. Banana with almond butter\n4. Quinoa bowls`
            };
            return suggestions[lifestyle] || "Here are some general healthy suggestions...";
        }

        function getDailyPlan(lifestyle) {
            const plans = {
                hosteler: `Hostel Diet Plan:\nğŸŒ Breakfast: Upma with veggies\nğŸ•› Lunch: Dal, rice, sabzi\nğŸŒ™ Dinner: Roti with chana masala\nğŸ Snack: Seasonal fruits`,
                corporate: `Office Diet Plan:\nâ˜• Breakfast: Oatmeal with nuts\nğŸ¥— Lunch: Grilled chicken salad\nğŸ¥˜ Dinner: Stir-fried veggies with brown rice\nğŸ¥œ Snack: Mixed nuts`,
                student: `Student Diet Plan:\nğŸ³ Breakfast: Egg sandwich\nğŸš Lunch: Rice with rajma\nğŸ Dinner: Pasta with veggies\nğŸŒ Snack: Yogurt with fruits`,
                athlete: `Athlete Diet Plan:\nğŸ¥ Breakfast: Protein pancakes\nğŸ— Lunch: Grilled fish with quinoa\nğŸ¥¦ Dinner: Lean meat with steamed veggies\nğŸ¯ Snack: Greek yogurt with honey`
            };
            return plans[lifestyle] || "Here's a general healthy diet plan...";
        }
    </script>
</body>
</html>
